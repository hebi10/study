
기능을 만들다보면 결국 서버가 필요합니다.

서버만 할 수 있는 기능들이 있기 때문입니다. 

 

- 업로드된 이미지를 사이즈를 줄여서 저장

- 업로드한 게시물에서 숫자, 대시 제거

- 메세지에서 욕설 제거 

 

이런건 서버에서 할 수 밖에 없습니다.

그건 어떻게 하냐면 Firebase console에서 Functions 메뉴를 들어가면 됩니다. 

 

 

 



 

▲ 이게 서버코드 올리는 곳입니다. 

근데 카드를 등록하고 종량제로 바꾸셔야 이용가능합니다. 등록하기 싫으면 어쩔 수 없군요 

(카드 등록했다고 자동과금 안됩니다. 무료 사용량을 넘어서야 과금됩니다)

 

 

 

 

프로젝트에 Functions 기능 설치

 

맨 처음 프로젝트 만들 때 Functions 설치를 안했기 때문에 다시 하면 사용가능합니다.

프로젝트에서 터미널 열고 

firebase init
누르시면 됩니다. 그리고 Functions 고르고 잘 진행해보도록 합시다. 

 

당연히 이거 하기 전에 firebase login 명령어로 로그인이 잘 되어있어야합니다. 

근데 하기 전에 여러분 프로젝트 파일들을 다른 곳에 백업해두는게 어떨까요. 

 

 

설치가 완료되면 functions 라는 폴더가 생기는데 거기 안의 index.js 에다가 서버코드짜면 됩니다.

 

 

 

 

저는 서버가 뭔지 모르는데요 

 

자꾸 서버서버 거리는데 서버가 처음이라면

Node.js 강의 초반 5~6개만 듣고오시면 이해가 잘 갈걸요 

서버는 요약하자면 부탁들어주는 간단한 프로그램을 서버라고 합니다. 

"검색결과좀 보여줘"

"로그인좀 해줘"

이런거 부탁들어주는 코드짜면 여러분도 서버개발자 전직완료하신 것임 

 

 

 

 

 

 

그래서 간단한 서버기능 샘플 

 

누군가 /hello 라는 페이지를 접속하면 '안녕하세요' 라는 글자를 보내주는 기능을 만들어봅시다. 

근데 미리 코드가 채워져있을 수 있습니다. 

 

 

exports.hello = functions.https.onRequest((request, response) => {
  functions.logger.info("Hello logs!", {structuredData: true});
  response.send("안녕하세요");
}); 
exports.hello ▶ 누군가 /hello로

functions.https.onRequest ▶ 접속하면~ 

functions.logger.info() ▶ 파이어베이스 콘솔에 로그찍어주셈

response.send() ▶ 유저에게 뭐 보내주셈 

 

이런 뜻입니다. Functions 기능 사용법일 뿐이니 이해는 할 필요없고 그냥 언제나 복붙해서 씁니다. 

 

 

기능을 만든 후 구글클라우드에 deploy 해야 작동합니다. 

그건 터미널 켜서

firebase deploy --only functions
입력해주시면 자동으로 발행됩니다. 끝 

다만 2~3분 걸립니다. 

 

 

 

 

완료되면 URL이 하나 나옵니다.

 

 



 

▲ .net으로 끝나는게 여러분의 서버 주소고

/hello까지 뒤에 붙여서 브라우저 주소창에 입력해보시면 진짜 "안녕하세요" 보내주죠?

서버 별거 아닙니다 그냥 누가 찡찡대면 부탁들어주는 프로그램 만들면 되는 것입니다.

다음 시간엔 테스트삼아 채팅방개설 알림을 주는 기능을 만들어봅시다.